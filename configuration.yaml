default_config:
logbook: !include logbook.yaml
automation: !include automations.yaml
history: !include history.yaml
frontend: !include themes.yaml
script: !include scripts.yaml
group: !include groups.yaml
alexa: !include alexa.yaml
switch: !include switch.yaml
light: !include light.yaml
sensor: !include sensor.yaml
binary_sensor: !include binary_sensor.yaml
template: !include template.yaml
mqtt: !include mqtt.yaml
wake_on_lan:

#homeassistant:
#  customize: !include customize.yaml

#reduce db size
recorder:
  purge_keep_days: 3

# reduce login failure messages
http:
  use_x_forwarded_for: true
  trusted_proxies:
    - 127.0.0.1
    - 172.16.0.0/12
    - 192.168.1.0/24
    - ::1

weather:
  - platform: darksky
    api_key: !secret darksky

timer:
  exhaust:
    duration: "00:15:00"
    name: "Exhaust"
    restore: true
    icon: mdi:fan-clock
  ac:
    duration: "00:25:00"
    name: "AC Boost Timer"
    restore: true
    icon: mdi:air-conditioner
  laundry_room_light:
    duration: "00:01:00"
    name: "Laundry Room Light Timer"
    restore: true
    icon: mdi:alarm-light

alarm_control_panel:
  - platform: template
    panels:
      safe_alarm_panel:
        name: "Alarm Panel"
        value_template: "{{states('sensor.alarm_system_status')}}"
        code_arm_required: false
        
        arm_away:
          - service: esphome.alarm_alarm_arm_away
                  
        arm_home:
          - service: esphome.alarm_alarm_arm_home
          
        arm_night:
          - service: esphome.alarm_alarm_arm_night
            data_template:
              code: '{{code}}' #if you didnt set it in the yaml, then send the code here
          
        disarm:
          - service: esphome.alarm_alarm_disarm
            data_template:
              code: '{{code}}'       

logger:
  default: info
  logs:
    yalexs: debug