- platform: command_line
  switches:
    u6_pro_led:
      friendly_name: "U6-Pro LED"
      command_on: !secret u6_pro_on
      command_off: !secret u6_pro_off
- platform: template
  switches:
    mousepad:
      friendly_name: Mousepad
      turn_on:
        - service: switch.turn_on
          target:
            entity_id:
              - switch.mousepadon
      turn_off:
        - service: switch.turn_on
          target:
            entity_id:
              - switch.mousepadoff
    bedroomtoggle:
      value_template: "{{ is_state('light.desk_lights', 'on') }}"
      turn_on:
        - service: script.stuff_on
      turn_off:
        - service: script.turn_on
          target:
            entity_id:
              - script.stuff_off
              - script.ac_off
    blinds:
      turn_on:
        service: cover.open_cover
        target:
          entity_id: cover.bedroom_blinds
      turn_off:
        service: cover.close_cover
        target:
          entity_id: cover.bedroom_blinds
    lock:
      friendly_name: Front Door Lock
      value_template: "{{ is_state('lock.front_door', 'locked') }}"
      turn_on:
        - service: lock.lock
          entity_id:
            - lock.front_door
      turn_off:
        - service: lock.unlock
          entity_id:
            - lock.front_door
    case_lights:
      friendly_name: Case Lights
      turn_on:
        - service: remote.send_command
          data:
            entity_id: remote.bedroom_rm4_remote
            command: 'off'
            device: case
        - service: remote.send_command
          data:
            entity_id: remote.bedroom_rm4_remote
            command: 'on'
            device: case
      turn_off:
        - service: remote.send_command
          data:
            entity_id: remote.bedroom_rm4_remote
            command: 'off'
            device: case
            num_repeats: 6
    ac:
      friendly_name: Air Conditioner
      value_template: "{{ states('sensor.ac_plug_wattage')|float(default=0) > 6 }}"
      turn_on:
        - service: remote.send_command
          data:
            entity_id: remote.bedroom_rm4_remote
            command: power
            device: ac
        - delay: 4
        - service: homeassistant.update_entity
          entity_id: sensor.ac_plug_wattage
      turn_off:
        - service: remote.send_command
          data:
            entity_id: remote.bedroom_rm4_remote
            command: power
            device: ac
        - delay: 8
        - service: homeassistant.update_entity
          entity_id: sensor.ac_plug_wattage
    windows:
      friendly_name: Desktop
      value_template: "{{ states('sensor.monitor_plug_wattage')|float(default=0) > 6 }}"
      turn_on:
        - service: wake_on_lan.send_magic_packet
          data:
            mac: !secret desktop
        - service: mqtt.publish
          data:
            topic: "iotlink/workgroup/desktop-pc/commands/displays/on"
            payload: ""  
        - service: switch.turn_on
          target:
            entity_id:
              - switch.on
              - switch.mousepad
        - delay: 13
        - service: homeassistant.update_entity
          entity_id: sensor.monitor_plug_wattage
      turn_off:
        - service: switch.turn_on
          target:
            entity_id:
              - switch.off
        - service: switch.turn_off
          target:
            entity_id: switch.mousepad
        - delay: 20
        - service: homeassistant.update_entity
          entity_id: sensor.monitor_plug_wattage